<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detection | PHISHING URL DETECTION</title>
      <script src="https://kit.fontawesome.com/82a4ba4cb4.js" crossorigin="anonymous"></script>

    <style>
        *{
            margin:0%;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
        }
        h2{
<!--            background-color:#335C67;-->
            padding: 20px;
            margin-top:20px;
            color: white;
            text-align: center;
        }
        .container{
            margin:auto;
            margin-top:100px;
            width:50%;
            text-align: center;
        }
        .container1{
            margin:auto;
           
            width:50%;
            text-align: center;
        }
        .container input{
            width: 500px;
        }
        .container input,button{
            padding:10px;
        }
        body{
            background-image:url("https://onaircode.com/wp-content/uploads/2019/09/simple-pattern-css-1024x580.jpg");
            background-repeat: no-repeat;
            background-size:cover;

        }
        .form2{
            margin:auto;
            margin-top:10px;
            text-align: center;
            height: 5%;

            
        }
        .btnback{
            position:absolute;
            top:10px;
            left:10px;
            background:none;
            color:white;
            border:0;
            font-size:15px;
        }
        .btnrefresh{
            position:absolute;
            top:10px;
            right:10px;
            background:none;
            color:white;
            border:0;
            font-size:15px;
            font-weight:600;
        }
        button{
            cursor:pointer;
        }
        #result{
            background:none;
            font-size:20px;
            font-weight:600;
        }
        .ntmsg{
            display:none;

            border:3px solid tomato;
            border-radius:10px;
            text-align:center;
            background-color:white;
            position:absolute;
            left:50%;
            top:60%;
            transform:translate(-50%,-50%);
            }
        .ntmsg h2{
            color:white;
            font-size:20px;
            background-color:tomato;
            margin:0;
            padding:5px;
            text-align:center;
            }
        .ntmsg button{
            width:100%;
            padding:5px;
            background-color:tomato;
            color:white;
            border:0;
            }



    </style>
</head>

<body >
    <div class="header">
        <h2>PHISHING URL DETECTION</h2>
       
    </div>
    
    <form action="/predict" method="post">
       
        <div class="container">
            
            <input type="url" class="form__input" name ='url' id="url" placeholder="url format : https://www.w3schools.com/" required=""  />
            <button class="button"  role="button" >Test <i class="fa-solid fa-arrow-right"></i></button><br>
            
            <button class="btnrefresh" onClick="window.location.reload()">Refresh Page <i class="fa-solid fa-rotate-right"></i> </button>
        </div>
    </form>
    <div class="container1">
    <a href="{{url_for('home')}}"><button class="btnback"> <i class="fa-solid fa-backward "></i>   Back</button></a>
    <br>
    
    <div class="form2">
        <p id="result"></p>   
        
    </div>
    <br>
        <h4 class = "right" ><a style="color:white" href= {{ url }} target="_blank">{{ url }}</a></h4>

        <br>
        <h3 id="prediction"></h3>
        <button class="button2" id="button2" role="button"  onclick="window.open('{{url}}')" target="_blank" style="display:none">Still want to Continue</button>
        <button class="button1" id="button1" role="button"  onclick="window.open('{{url}}')" target="_blank" style="display:none">Continue</button>
        <button class="button3" id="button3" role="button"  target="_blank" style="display:none">Network Detection</button>

        <br>

    </br>
        <div class="ntmsg" id="ntmsg">
            <h2> Types of <br> Network Intrusion Detection</h2>
            <p> TCP-SYN| Port Scan| Overflow| Diversion| Blackhole </p><hr>
            <img src="https://www.freeiconspng.com/uploads/tower-icon-15.png" width="30%">

            <p> </p>
            <button onclick="document.getElementById('ntmsg').style.display='none';">close </button>
        </div>


<script>
        
    let x = '{{res}}';
    let num = x*100;
    if (0<=x && x<0.60){
        num = 100-num;
    }

    if(x<=1 && x>=0.60){
        let txtx = num.toString();
        let y = 100-num;
        let unsafe = y.toString();
        var label = txtx+"% NON-Phising site";
        document.getElementById("result").innerHTML = label;
        document.getElementById("result").style.color = "mediumseagreen";
        document.getElementById("button1").style.display="inline-block";


    }
    else if (0<=x && x<0.60){
        unsafe = 100-num;
        let txtx = unsafe.toString();
        let safe = num.toString();
        var label = "Website is "+txtx +"% safe to use "  +safe+ "% unsafe to use ";
        document.getElementById("result").innerHTML = label ;
        document.getElementById("result").style.color = "tomato";
        document.getElementById("button2").style.display="inline-block";
        var disp=document.getElementById("button3");
        disp.style.display="inline-block";
        disp.addEventListener("click",function(){
        document.getElementById("ntmsg").style.display="block"});


    }

   
</script>
</body>
</html>